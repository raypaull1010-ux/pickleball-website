<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Results - AI Session Tracker | Ray Paull Pickleball</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="index.html">Ray's Pickleball</a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="pricing.html">Pricing</a></li>
                <li><a href="community.html">Community</a></li>
                <li><a href="membership.html">Membership</a></li>
                <li><a href="coach-analysis/video-analysis.html">Submit Video</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="page-header results-header">
            <h1>Session Results</h1>
            <p id="sessionSubtitle">Loading session data...</p>
        </section>

        <section class="session-results-content">
            <div class="container">
                <!-- Session Overview -->
                <div class="session-overview">
                    <div class="overview-card">
                        <span class="overview-icon">‚è±Ô∏è</span>
                        <div class="overview-data">
                            <span class="overview-value" id="sessionDuration">45 min</span>
                            <span class="overview-label">Duration</span>
                        </div>
                    </div>
                    <div class="overview-card">
                        <span class="overview-icon">üë•</span>
                        <div class="overview-data">
                            <span class="overview-value" id="playerCount">2</span>
                            <span class="overview-label">Players</span>
                        </div>
                    </div>
                    <div class="overview-card">
                        <span class="overview-icon">üéØ</span>
                        <div class="overview-data">
                            <span class="overview-value" id="drillType">Dinking</span>
                            <span class="overview-label">Drill Type</span>
                        </div>
                    </div>
                    <div class="overview-card">
                        <span class="overview-icon">üèì</span>
                        <div class="overview-data">
                            <span class="overview-value" id="totalShots">379</span>
                            <span class="overview-label">Total Shots</span>
                        </div>
                    </div>
                </div>

                <!-- Player Tabs -->
                <div class="player-tabs" id="playerTabs">
                    <button class="player-tab active" data-player="1">Player 1</button>
                    <button class="player-tab" data-player="2">Player 2</button>
                    <button class="player-tab" data-player="all">All Players</button>
                </div>

                <!-- Stats Dashboard -->
                <div class="stats-dashboard">
                    <div class="stats-main">
                        <!-- Performance Summary -->
                        <div class="stats-card performance-summary">
                            <h3>Performance Summary</h3>
                            <div class="performance-grid">
                                <div class="perf-stat">
                                    <div class="perf-value good" id="consistencyRate">87%</div>
                                    <div class="perf-label">Consistency</div>
                                    <div class="perf-bar">
                                        <div class="perf-fill" style="width: 87%; background: var(--secondary-color);"></div>
                                    </div>
                                </div>
                                <div class="perf-stat">
                                    <div class="perf-value warning" id="errorRate">13%</div>
                                    <div class="perf-label">Error Rate</div>
                                    <div class="perf-bar">
                                        <div class="perf-fill" style="width: 13%; background: #f59e0b;"></div>
                                    </div>
                                </div>
                                <div class="perf-stat">
                                    <div class="perf-value" id="attackRate">21%</div>
                                    <div class="perf-label">Attack Rate</div>
                                    <div class="perf-bar">
                                        <div class="perf-fill" style="width: 21%; background: var(--primary-color);"></div>
                                    </div>
                                </div>
                                <div class="perf-stat">
                                    <div class="perf-value warning" id="popupRate">18%</div>
                                    <div class="perf-label">Pop-up Rate</div>
                                    <div class="perf-bar">
                                        <div class="perf-fill" style="width: 18%; background: #ef4444;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Shot Breakdown -->
                        <div class="stats-card shot-breakdown">
                            <h3>Shot Breakdown</h3>
                            <div class="breakdown-grid">
                                <div class="breakdown-item">
                                    <div class="breakdown-header">
                                        <span class="breakdown-label">Perfect Shots</span>
                                        <span class="breakdown-value good">142</span>
                                    </div>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill good" style="width: 75%;"></div>
                                    </div>
                                    <span class="breakdown-percent">75%</span>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-header">
                                        <span class="breakdown-label">Good Shots</span>
                                        <span class="breakdown-value">28</span>
                                    </div>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill neutral" style="width: 15%;"></div>
                                    </div>
                                    <span class="breakdown-percent">15%</span>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-header">
                                        <span class="breakdown-label">Pop-ups</span>
                                        <span class="breakdown-value warning">14</span>
                                    </div>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill warning" style="width: 7%;"></div>
                                    </div>
                                    <span class="breakdown-percent">7%</span>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-header">
                                        <span class="breakdown-label">Errors</span>
                                        <span class="breakdown-value bad">6</span>
                                    </div>
                                    <div class="breakdown-bar">
                                        <div class="breakdown-fill bad" style="width: 3%;"></div>
                                    </div>
                                    <span class="breakdown-percent">3%</span>
                                </div>
                            </div>
                        </div>

                        <!-- FH vs BH Comparison -->
                        <div class="stats-card fh-bh-comparison">
                            <h3>Forehand vs Backhand</h3>
                            <div class="comparison-grid">
                                <div class="comparison-side">
                                    <h4>Forehand</h4>
                                    <div class="comparison-stats">
                                        <div class="comp-row">
                                            <span>Total Shots</span>
                                            <span class="comp-value">98</span>
                                        </div>
                                        <div class="comp-row">
                                            <span>Consistency</span>
                                            <span class="comp-value good">91%</span>
                                        </div>
                                        <div class="comp-row">
                                            <span>Pop-up Rate</span>
                                            <span class="comp-value good">12%</span>
                                        </div>
                                        <div class="comp-row">
                                            <span>Attack Rate</span>
                                            <span class="comp-value">24%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="comparison-divider">
                                    <span class="vs-badge">VS</span>
                                </div>
                                <div class="comparison-side">
                                    <h4>Backhand</h4>
                                    <div class="comparison-stats">
                                        <div class="comp-row">
                                            <span>Total Shots</span>
                                            <span class="comp-value">92</span>
                                        </div>
                                        <div class="comp-row">
                                            <span>Consistency</span>
                                            <span class="comp-value warning">82%</span>
                                        </div>
                                        <div class="comp-row">
                                            <span>Pop-up Rate</span>
                                            <span class="comp-value warning">24%</span>
                                        </div>
                                        <div class="comp-row">
                                            <span>Attack Rate</span>
                                            <span class="comp-value">18%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="comparison-insight">
                                <strong>Insight:</strong> Your backhand pop-up rate is 2x higher than forehand. Focus on earlier contact point and softer grip on backhand dinks.
                            </div>
                        </div>

                        <!-- Position Breakdown (for dinks) -->
                        <div class="stats-card position-breakdown">
                            <h3>Position Breakdown</h3>
                            <div class="position-grid">
                                <div class="position-card">
                                    <h4>Cross-Court L‚ÜíR</h4>
                                    <div class="position-stat">
                                        <span class="position-value good">94%</span>
                                        <span class="position-label">Consistency</span>
                                    </div>
                                    <div class="position-detail">62 shots ‚Ä¢ 4 errors</div>
                                </div>
                                <div class="position-card">
                                    <h4>Cross-Court R‚ÜíL</h4>
                                    <div class="position-stat">
                                        <span class="position-value warning">82%</span>
                                        <span class="position-label">Consistency</span>
                                    </div>
                                    <div class="position-detail">58 shots ‚Ä¢ 10 errors</div>
                                </div>
                                <div class="position-card">
                                    <h4>Straight Ahead</h4>
                                    <div class="position-stat">
                                        <span class="position-value">88%</span>
                                        <span class="position-label">Consistency</span>
                                    </div>
                                    <div class="position-detail">70 shots ‚Ä¢ 8 errors</div>
                                </div>
                            </div>
                        </div>

                        <!-- Error Analysis -->
                        <div class="stats-card error-analysis">
                            <h3>Error Analysis</h3>
                            <div class="error-grid">
                                <div class="error-type">
                                    <div class="error-icon">üîª</div>
                                    <div class="error-info">
                                        <span class="error-name">Net Errors</span>
                                        <span class="error-count">8</span>
                                    </div>
                                    <div class="error-bar">
                                        <div class="error-fill" style="width: 53%;"></div>
                                    </div>
                                </div>
                                <div class="error-type">
                                    <div class="error-icon">‚¨ÜÔ∏è</div>
                                    <div class="error-info">
                                        <span class="error-name">Pop-ups</span>
                                        <span class="error-count">14</span>
                                    </div>
                                    <div class="error-bar">
                                        <div class="error-fill" style="width: 93%;"></div>
                                    </div>
                                </div>
                                <div class="error-type">
                                    <div class="error-icon">‚ÜóÔ∏è</div>
                                    <div class="error-info">
                                        <span class="error-name">Out Wide</span>
                                        <span class="error-count">4</span>
                                    </div>
                                    <div class="error-bar">
                                        <div class="error-fill" style="width: 27%;"></div>
                                    </div>
                                </div>
                                <div class="error-type">
                                    <div class="error-icon">‚¨áÔ∏è</div>
                                    <div class="error-info">
                                        <span class="error-name">Out Long</span>
                                        <span class="error-count">2</span>
                                    </div>
                                    <div class="error-bar">
                                        <div class="error-fill" style="width: 13%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar -->
                    <div class="stats-sidebar">
                        <!-- AI Insights -->
                        <div class="sidebar-card insights-card">
                            <h4>AI Insights</h4>
                            <div class="insight-item">
                                <span class="insight-icon">üí°</span>
                                <p>Your backhand dinks pop up twice as often as forehands. Practice earlier contact point.</p>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">üìà</span>
                                <p>Cross-court L‚ÜíR is your strongest position at 94% consistency. Use this as a reset option.</p>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">üéØ</span>
                                <p>Attack rate of 21% is healthy. Consider increasing to 25-30% as consistency improves.</p>
                            </div>
                        </div>

                        <!-- Recommended Drills -->
                        <div class="sidebar-card drills-card">
                            <h4>Recommended Drills</h4>
                            <div class="drill-rec-item">
                                <h5>Backhand Contact Point</h5>
                                <p>3 sets of 20 backhand dinks focusing on getting paddle out front.</p>
                            </div>
                            <div class="drill-rec-item">
                                <h5>Cross-Court R‚ÜíL</h5>
                                <p>2 sets of 30 cross-court dinks to your weaker side.</p>
                            </div>
                            <a href="drills-library.html" class="btn btn-secondary btn-full">Browse All Drills</a>
                        </div>

                        <!-- Progress Tracking -->
                        <div class="sidebar-card progress-card">
                            <h4>Track Your Progress</h4>
                            <p class="progress-note">Re-film this drill in 1 week and compare your stats!</p>
                            <div class="progress-placeholder">
                                <p>This is your first dinking session. Future sessions will show progress comparison.</p>
                            </div>
                        </div>

                        <!-- Session Credits -->
                        <div class="sidebar-card credits-card">
                            <h4>Session Credits</h4>
                            <div class="credits-remaining">
                                <span class="credits-number" id="creditsRemaining">8</span>
                                <span class="credits-label">credits remaining</span>
                            </div>
                            <a href="session-tracker.html#pricing" class="btn btn-primary btn-full">Buy More Sessions</a>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="results-actions">
                    <a href="session-upload.html" class="btn btn-primary btn-large">Analyze Another Session</a>
                    <button class="btn btn-secondary btn-large" id="shareBtn">Share Results</button>
                    <button class="btn btn-secondary btn-large" id="downloadBtn">Download PDF</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Ray Paull Pickleball Analysis. All rights reserved.</p>
        </div>
    </footer>

    <style>
        /* Session Results Styles */
        .session-results-content {
            padding: var(--section-padding) 20px;
            background: var(--background-alt);
        }

        /* Session Overview */
        .session-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .overview-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .overview-icon {
            font-size: 2rem;
        }

        .overview-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-color);
            display: block;
        }

        .overview-label {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Player Tabs */
        .player-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .player-tab {
            padding: 12px 24px;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .player-tab:hover {
            border-color: var(--primary-color);
        }

        .player-tab.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Stats Dashboard Grid */
        .stats-dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        @media (max-width: 1000px) {
            .stats-dashboard {
                grid-template-columns: 1fr;
            }
        }

        .stats-main {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .stats-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .stats-card h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        /* Performance Summary */
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 20px;
        }

        .perf-stat {
            text-align: center;
        }

        .perf-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
        }

        .perf-value.good { color: var(--secondary-color); }
        .perf-value.warning { color: #f59e0b; }
        .perf-value.bad { color: #ef4444; }

        .perf-label {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 8px;
            display: block;
        }

        .perf-bar {
            height: 6px;
            background: var(--background-alt);
            border-radius: 3px;
            overflow: hidden;
        }

        .perf-fill {
            height: 100%;
            border-radius: 3px;
        }

        /* Shot Breakdown */
        .breakdown-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .breakdown-item {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: center;
        }

        .breakdown-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .breakdown-label {
            font-size: 0.95rem;
            color: var(--text-color);
        }

        .breakdown-value {
            font-weight: 600;
        }

        .breakdown-value.good { color: var(--secondary-color); }
        .breakdown-value.warning { color: #f59e0b; }
        .breakdown-value.bad { color: #ef4444; }

        .breakdown-bar {
            grid-column: 1;
            height: 8px;
            background: var(--background-alt);
            border-radius: 4px;
            overflow: hidden;
        }

        .breakdown-fill {
            height: 100%;
            border-radius: 4px;
        }

        .breakdown-fill.good { background: var(--secondary-color); }
        .breakdown-fill.neutral { background: var(--primary-color); }
        .breakdown-fill.warning { background: #f59e0b; }
        .breakdown-fill.bad { background: #ef4444; }

        .breakdown-percent {
            font-size: 0.85rem;
            color: var(--text-light);
            width: 40px;
            text-align: right;
        }

        /* FH vs BH Comparison */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: start;
        }

        @media (max-width: 600px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            .comparison-divider {
                display: none;
            }
        }

        .comparison-side h4 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .comparison-stats {
            background: var(--background-alt);
            border-radius: 10px;
            padding: 15px;
        }

        .comp-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
        }

        .comp-row:last-child {
            border-bottom: none;
        }

        .comp-value {
            font-weight: 600;
        }

        .comp-value.good { color: var(--secondary-color); }
        .comp-value.warning { color: #f59e0b; }

        .comparison-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: 50px;
        }

        .vs-badge {
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 50%;
            font-weight: 700;
            font-size: 0.85rem;
        }

        .comparison-insight {
            margin-top: 20px;
            padding: 15px;
            background: #fef3c7;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #92400e;
        }

        /* Position Breakdown */
        .position-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .position-card {
            background: var(--background-alt);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .position-card h4 {
            font-size: 0.95rem;
            margin-bottom: 12px;
        }

        .position-value {
            font-size: 2rem;
            font-weight: 700;
            display: block;
        }

        .position-value.good { color: var(--secondary-color); }
        .position-value.warning { color: #f59e0b; }

        .position-label {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .position-detail {
            margin-top: 10px;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Error Analysis */
        .error-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .error-type {
            display: grid;
            grid-template-columns: 40px 1fr auto;
            gap: 15px;
            align-items: center;
        }

        .error-icon {
            font-size: 1.5rem;
            text-align: center;
        }

        .error-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .error-name {
            font-size: 0.95rem;
        }

        .error-count {
            font-weight: 600;
            color: #ef4444;
        }

        .error-bar {
            grid-column: 2 / 4;
            height: 6px;
            background: var(--background-alt);
            border-radius: 3px;
            overflow: hidden;
        }

        .error-fill {
            height: 100%;
            background: #ef4444;
            border-radius: 3px;
        }

        /* Sidebar */
        .stats-sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .sidebar-card h4 {
            margin-bottom: 18px;
            font-size: 1.1rem;
        }

        /* Insights Card */
        .insights-card {
            border-left: 4px solid var(--primary-color);
        }

        .insight-item {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .insight-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .insight-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .insight-item p {
            font-size: 0.9rem;
            color: var(--text-color);
            margin: 0;
            line-height: 1.5;
        }

        /* Drills Card */
        .drill-rec-item {
            background: var(--background-alt);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .drill-rec-item h5 {
            font-size: 0.95rem;
            margin-bottom: 5px;
        }

        .drill-rec-item p {
            font-size: 0.85rem;
            color: var(--text-light);
            margin: 0;
        }

        /* Progress Card */
        .progress-note {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .progress-placeholder {
            background: var(--background-alt);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .progress-placeholder p {
            font-size: 0.85rem;
            color: var(--text-light);
            margin: 0;
            font-style: italic;
        }

        /* Credits Card */
        .credits-card {
            border: 2px solid var(--primary-color);
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.05) 0%, white 100%);
        }

        .credits-remaining {
            text-align: center;
            margin-bottom: 20px;
        }

        .credits-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
        }

        .credits-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        /* Results Actions */
        .results-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }
    </style>

    <script>
        // Player tab switching
        const playerTabs = document.querySelectorAll('.player-tab');
        playerTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                playerTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                // In real implementation, this would load different player data
            });
        });

        // Share functionality
        document.getElementById('shareBtn').addEventListener('click', () => {
            const shareText = `Just analyzed my pickleball drill session! üèì\n\n87% consistency on dinking with AI insights.\n\nTrack your practice with Ray's AI Session Tracker!`;

            if (navigator.share) {
                navigator.share({
                    title: 'My Session Results',
                    text: shareText,
                    url: window.location.origin + '/session-tracker.html'
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('Results copied to clipboard!');
                });
            }
        });

        // Download functionality (placeholder)
        document.getElementById('downloadBtn').addEventListener('click', () => {
            alert('PDF download coming soon! Your results will be emailed to you.');
        });

        // Load session credits
        function loadCredits() {
            const credits = parseInt(localStorage.getItem('sessionCredits') || '10');
            document.getElementById('creditsRemaining').textContent = credits;
        }

        loadCredits();
    </script>
</body>
</html>
