<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doubles Partnership Analysis - Ray Paull Pickleball</title>
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        /* Doubles-specific styling */
        .doubles-hero {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
        }

        .doubles-hero h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
        }

        .doubles-hero p {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 650px;
            margin: 0 auto;
        }

        .partnership-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 40px 0;
        }

        .partner-icon {
            width: 100px;
            height: 100px;
            background: rgba(255,255,255,0.15);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
        }

        .plus-icon {
            font-size: 2rem;
            opacity: 0.8;
        }

        .equals-icon {
            font-size: 2rem;
            opacity: 0.8;
        }

        .team-icon {
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.25);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            border: 3px solid rgba(255,255,255,0.5);
        }

        .pricing-highlight {
            background: white;
            border-radius: 16px;
            padding: 40px;
            max-width: 450px;
            margin: 0 auto;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .pricing-highlight .price {
            font-size: 3.5rem;
            font-weight: 700;
            color: #0891b2;
            margin-bottom: 10px;
        }

        .pricing-highlight .price-note {
            color: var(--text-light);
            margin-bottom: 25px;
        }

        .pricing-highlight .features-list {
            text-align: left;
            margin-bottom: 30px;
        }

        .pricing-highlight .features-list li {
            padding: 12px 0;
            padding-left: 30px;
            position: relative;
            border-bottom: 1px solid var(--border-color);
        }

        .pricing-highlight .features-list li:last-child {
            border-bottom: none;
        }

        .pricing-highlight .features-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #0891b2;
            font-weight: bold;
        }

        .analysis-areas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            max-width: 900px;
            margin: 0 auto;
        }

        .analysis-area {
            background: white;
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .analysis-area .area-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .analysis-area h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .analysis-area p {
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .comparison-section {
            background: var(--background-alt);
            padding: 60px 20px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
        }

        .comparison-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border-color);
        }

        .comparison-card h4 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .comparison-card ul {
            list-style: none;
            padding: 0;
        }

        .comparison-card li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: var(--text-light);
        }

        .comparison-card li::before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #0891b2;
        }

        .sample-output {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 700px;
            margin: 0 auto;
            border: 2px solid #0891b2;
        }

        .sample-output-header {
            background: #0891b2;
            color: white;
            margin: -30px -30px 25px -30px;
            padding: 20px 30px;
            border-radius: 10px 10px 0 0;
        }

        .sample-output-header h4 {
            margin: 0;
        }

        .team-profile {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
        }

        .player-profile {
            background: var(--background-alt);
            padding: 20px;
            border-radius: 8px;
        }

        .player-profile h5 {
            margin-bottom: 10px;
            color: #0891b2;
        }

        .player-profile .style-tag {
            display: inline-block;
            background: #0891b2;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .team-dynamics {
            margin-bottom: 25px;
        }

        .team-dynamics h5 {
            margin-bottom: 15px;
        }

        .dynamic-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .dynamic-item:last-child {
            border-bottom: none;
        }

        .dynamic-label {
            color: var(--text-light);
        }

        .dynamic-value {
            font-weight: 600;
        }

        .dynamic-value.good {
            color: #10b981;
        }

        .dynamic-value.needs-work {
            color: #f59e0b;
        }

        /* Team Tracker Styles */
        .team-tracker-section {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
            padding: 60px 20px;
            margin: 0 -20px;
        }

        .team-tracker-container {
            background: white;
            border-radius: 16px;
            padding: 30px;
            max-width: 900px;
            margin: 0 auto;
        }

        .tracker-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .tracker-header h2 {
            margin-bottom: 10px;
        }

        .tracker-header p {
            color: var(--text-light);
        }

        .team-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .team-member-input {
            background: var(--background-alt);
            padding: 20px;
            border-radius: 12px;
        }

        .team-member-input h4 {
            margin-bottom: 15px;
            color: #0891b2;
        }

        .team-member-input input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
        }

        .tracker-section {
            margin-bottom: 25px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }

        .tracker-section-header {
            background: var(--background-alt);
            padding: 15px 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .tracker-section-header:hover {
            background: #e5e7eb;
        }

        .tracker-section-content {
            padding: 20px;
        }

        .team-counter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .team-counter-item {
            background: var(--background-alt);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .team-counter-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .team-counter-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .team-counter-btn {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .team-counter-btn.minus {
            background: #fee2e2;
            color: #dc2626;
        }

        .team-counter-btn.plus {
            background: #d1fae5;
            color: #059669;
        }

        .team-counter-btn:hover {
            transform: scale(1.1);
        }

        .team-counter-value {
            font-size: 1.5rem;
            font-weight: 700;
            min-width: 40px;
        }

        .responsibility-selector {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }

        .responsibility-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background: white;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .responsibility-btn:hover {
            border-color: #0891b2;
        }

        .responsibility-btn.active {
            background: #0891b2;
            color: white;
            border-color: #0891b2;
        }

        .toggle-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .toggle-btn {
            padding: 8px 20px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            background: white;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .toggle-btn:hover {
            border-color: #0891b2;
        }

        .toggle-btn.active {
            background: #0891b2;
            color: white;
            border-color: #0891b2;
        }

        .tracker-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        .tracker-actions .btn {
            min-width: 150px;
        }

        /* Team Summary Output */
        .team-summary {
            background: var(--background-alt);
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
            display: none;
        }

        .team-summary.visible {
            display: block;
        }

        .team-summary h4 {
            margin-bottom: 20px;
            text-align: center;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .summary-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .summary-item .label {
            color: var(--text-light);
        }

        .summary-item .value {
            font-weight: 600;
        }

        .summary-item .value.good {
            color: #10b981;
        }

        .summary-item .value.warning {
            color: #f59e0b;
        }

        .summary-item .value.bad {
            color: #ef4444;
        }

        .recommendation-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #0891b2;
        }

        .recommendation-box h5 {
            margin-bottom: 10px;
            color: #0891b2;
        }

        @media (max-width: 768px) {
            .partnership-visual {
                flex-direction: column;
                gap: 15px;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .team-profile {
                grid-template-columns: 1fr;
            }

            .doubles-hero h1 {
                font-size: 2rem;
            }

            .team-info-grid {
                grid-template-columns: 1fr;
            }

            .team-counter-grid {
                grid-template-columns: 1fr;
            }

            .tracker-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="../index.html">üèì Ray's Pickleball</a>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li class="nav-dropdown">
                    <a href="../services.html" class="active">Services</a>
                    <ul class="dropdown-menu">
                        <li><a href="../services.html">Video Analysis</a></li>
                        <li><a href="skill-evaluation.html">Skill Evaluation</a></li>
                        <li><a href="doubles-analysis.html" class="active">Doubles Analysis</a></li>
                        <li><a href="../level-up.html" class="dropdown-highlight">Level Up Program</a></li>
                    </ul>
                </li>
                <li><a href="../pricing.html">Pricing</a></li>
                <li><a href="../membership.html">Membership</a></li>
                <li><a href="../community.html">Community</a></li>
                <li><a href="../about.html">About</a></li>
                <li><a href="video-analysis.html" class="btn btn-primary" style="padding: 8px 20px; color: white;">Submit Video</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- HERO -->
        <section class="doubles-hero">
            <div class="container">
                <p style="text-transform: uppercase; font-size: 0.9rem; letter-spacing: 2px; opacity: 0.9; margin-bottom: 15px;">Team Analysis</p>
                <h1>Doubles Partnership Analysis</h1>
                <p>Understand how you and your partner play together. Get insights on your team dynamics, strengths as a pair, and how to mesh better on the court.</p>

                <div class="partnership-visual">
                    <div class="partner-icon">üë§</div>
                    <span class="plus-icon">+</span>
                    <div class="partner-icon">üë§</div>
                    <span class="equals-icon">=</span>
                    <div class="team-icon">üèÜ</div>
                </div>
            </div>
        </section>

        <section class="services-content">
            <div class="container">

                <!-- PRICING -->
                <div style="margin-bottom: 60px;">
                    <div class="pricing-highlight">
                        <div class="price">$65</div>
                        <p class="price-note">Complete team analysis for both partners</p>

                        <ul class="features-list">
                            <li>Team positioning & court coverage analysis</li>
                            <li>Communication & switching patterns</li>
                            <li>Individual play style profiles</li>
                            <li>Combined strengths & weaknesses</li>
                            <li>Compatibility assessment</li>
                            <li>Team-specific strategies & drills</li>
                            <li>Video walkthrough with timestamps</li>
                        </ul>

                        <a href="video-analysis.html?service=doubles" class="btn btn-primary btn-large" style="background: #0891b2;">Submit Your Doubles Video</a>
                        <p style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">48-72 hour turnaround</p>
                    </div>
                </div>

                <!-- WHAT WE ANALYZE -->
                <div style="margin-bottom: 60px;">
                    <h2 style="text-align: center; margin-bottom: 15px;">What We Analyze</h2>
                    <p style="text-align: center; color: var(--text-light); margin-bottom: 40px; max-width: 600px; margin-left: auto; margin-right: auto;">
                        Unlike individual analysis, we focus on how you work as a unit
                    </p>

                    <div class="analysis-areas">
                        <div class="analysis-area">
                            <div class="area-icon">üìç</div>
                            <h4>Court Coverage</h4>
                            <p>Who covers what zones? Are there gaps? Do you crowd each other? We map your positioning patterns.</p>
                        </div>
                        <div class="analysis-area">
                            <div class="area-icon">üîÑ</div>
                            <h4>Switching & Stacking</h4>
                            <p>How effectively do you switch sides? When do you stack and why? Are transitions smooth or chaotic?</p>
                        </div>
                        <div class="analysis-area">
                            <div class="area-icon">üó£Ô∏è</div>
                            <h4>Communication</h4>
                            <p>Who takes the middle balls? Are calls clear? How do you recover from miscommunication?</p>
                        </div>
                        <div class="analysis-area">
                            <div class="area-icon">‚öñÔ∏è</div>
                            <h4>Play Style Balance</h4>
                            <p>Is one partner aggressive while the other is patient? How do your styles complement or conflict?</p>
                        </div>
                        <div class="analysis-area">
                            <div class="area-icon">üí™</div>
                            <h4>Combined Strengths</h4>
                            <p>What do you do well together? How can you build points around your team's best weapons?</p>
                        </div>
                        <div class="analysis-area">
                            <div class="area-icon">üéØ</div>
                            <h4>Team Strategies</h4>
                            <p>Specific plays and patterns you can practice together to take your partnership to the next level.</p>
                        </div>
                    </div>
                </div>

                <!-- COMPARISON: INDIVIDUAL VS DOUBLES -->
                <section class="comparison-section" style="margin: 0 -20px; padding: 60px 20px;">
                    <div class="container">
                        <h2 style="text-align: center; margin-bottom: 40px;">Individual vs. Doubles Analysis</h2>

                        <div class="comparison-grid">
                            <div class="comparison-card">
                                <h4>üìä Individual Analysis</h4>
                                <p style="color: var(--text-light); margin-bottom: 15px;">Focuses on YOUR game</p>
                                <ul>
                                    <li>Your shot statistics (FH/BH)</li>
                                    <li>Your error patterns</li>
                                    <li>Your decision-making</li>
                                    <li>Your biggest strengths/leaks</li>
                                    <li>Drills for your improvement</li>
                                </ul>
                            </div>
                            <div class="comparison-card" style="border-color: #0891b2; border-width: 2px;">
                                <h4>üë• Doubles Analysis</h4>
                                <p style="color: var(--text-light); margin-bottom: 15px;">Focuses on YOUR TEAM</p>
                                <ul>
                                    <li>Team positioning & coverage</li>
                                    <li>Communication patterns</li>
                                    <li>How your styles mesh</li>
                                    <li>Combined strengths/weaknesses</li>
                                    <li>Team strategies & plays</li>
                                </ul>
                            </div>
                        </div>

                        <p style="text-align: center; margin-top: 30px; color: var(--text-light);">
                            <strong>Pro tip:</strong> Get individual analysis first, then doubles analysis with your partner for complete coverage.
                        </p>
                    </div>
                </section>

                <!-- SAMPLE OUTPUT -->
                <div style="margin: 60px 0;">
                    <h2 style="text-align: center; margin-bottom: 40px;">Sample Analysis Output</h2>

                    <div class="sample-output">
                        <div class="sample-output-header">
                            <h4>Team Partnership Report ‚Äî Mike & Sarah</h4>
                        </div>

                        <div class="team-profile">
                            <div class="player-profile">
                                <h5>Mike (Left Side)</h5>
                                <span class="style-tag">Aggressive Attacker</span>
                                <p style="font-size: 0.9rem; color: var(--text-light);">Strong overhead game, likes to speed up, prefers to take charge of rallies</p>
                            </div>
                            <div class="player-profile">
                                <h5>Sarah (Right Side)</h5>
                                <span class="style-tag">Patient Builder</span>
                                <p style="font-size: 0.9rem; color: var(--text-light);">Consistent dinks, excellent resets, waits for the right ball to attack</p>
                            </div>
                        </div>

                        <div class="team-dynamics">
                            <h5>Team Dynamics</h5>
                            <div class="dynamic-item">
                                <span class="dynamic-label">Style Compatibility</span>
                                <span class="dynamic-value good">Strong ‚Äî complementary styles</span>
                            </div>
                            <div class="dynamic-item">
                                <span class="dynamic-label">Middle Ball Clarity</span>
                                <span class="dynamic-value needs-work">Needs work ‚Äî 3 collisions observed</span>
                            </div>
                            <div class="dynamic-item">
                                <span class="dynamic-label">Court Coverage</span>
                                <span class="dynamic-value good">Good ‚Äî minimal gaps</span>
                            </div>
                            <div class="dynamic-item">
                                <span class="dynamic-label">Transition Movement</span>
                                <span class="dynamic-value needs-work">Moderate ‚Äî Sarah often left behind</span>
                            </div>
                        </div>

                        <div style="background: var(--background-alt); padding: 20px; border-radius: 8px;">
                            <h5 style="margin-bottom: 10px;">Key Recommendation</h5>
                            <p style="color: var(--text-color); margin: 0;">
                                You have complementary styles ‚Äî Mike's aggression paired with Sarah's patience creates good balance.
                                Focus on middle ball communication (verbal "mine" calls) and Mike slowing his transition slightly
                                so Sarah can keep up. Consider the "Sarah builds, Mike finishes" play pattern.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- USE CASES -->
                <div style="margin-bottom: 60px;">
                    <h2 style="text-align: center; margin-bottom: 40px;">Perfect For</h2>

                    <div class="feature-grid" style="max-width: 900px; margin: 0 auto;">
                        <div class="feature-card">
                            <div class="feature-icon">üèÜ</div>
                            <h3>Tournament Partners</h3>
                            <p>Preparing for a tournament with your partner? Understand your team dynamics before competition day.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üíë</div>
                            <h3>Couples & Friends</h3>
                            <p>Play regularly with your spouse or best friend? Learn how to mesh better and have more fun on the court.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üîÑ</div>
                            <h3>New Partnerships</h3>
                            <p>Just started playing with someone new? Fast-track your chemistry with an analysis of your potential as a team.</p>
                        </div>
                    </div>
                </div>

                <!-- TEAM TRACKER -->
                <section class="team-tracker-section">
                    <div class="team-tracker-container">
                        <div class="tracker-header">
                            <h2>Team Gameplay Tracker</h2>
                            <p>Use this tracker during your games to collect team statistics for your analysis</p>
                        </div>

                        <!-- Team Member Info -->
                        <div class="team-info-grid">
                            <div class="team-member-input">
                                <h4>Left Side Partner</h4>
                                <input type="text" id="leftPartnerName" placeholder="Partner name (e.g., Mike)">
                            </div>
                            <div class="team-member-input">
                                <h4>Right Side Partner</h4>
                                <input type="text" id="rightPartnerName" placeholder="Partner name (e.g., Sarah)">
                            </div>
                        </div>

                        <!-- Kitchen Control -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Kitchen Control</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Got to Kitchen (After Serve)</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('kitchenServe', -1)">‚àí</button>
                                            <span class="team-counter-value" id="kitchenServe">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('kitchenServe', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Kept Opponent Back (After Return)</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('keptBack', -1)">‚àí</button>
                                            <span class="team-counter-value" id="keptBack">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('keptBack', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Points Lost - Location -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Points Lost by Location</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Lost Down the Middle</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('lostMiddle', -1)">‚àí</button>
                                            <span class="team-counter-value" id="lostMiddle">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('lostMiddle', 1)">+</button>
                                        </div>
                                        <div class="responsibility-selector">
                                            <button class="responsibility-btn" onclick="selectResponsibility(this, 'middleResp', 'left')">Left</button>
                                            <button class="responsibility-btn" onclick="selectResponsibility(this, 'middleResp', 'right')">Right</button>
                                            <button class="responsibility-btn" onclick="selectResponsibility(this, 'middleResp', 'both')">Both Hesitated</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Lost to Left Sideline</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('lostLeft', -1)">‚àí</button>
                                            <span class="team-counter-value" id="lostLeft">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('lostLeft', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Lost to Right Sideline</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('lostRight', -1)">‚àí</button>
                                            <span class="team-counter-value" id="lostRight">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('lostRight', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Poaching -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Poaching</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Successful Poaches</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('poachSuccess', -1)">‚àí</button>
                                            <span class="team-counter-value" id="poachSuccess">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('poachSuccess', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Failed Poaches / Errors</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('poachFail', -1)">‚àí</button>
                                            <span class="team-counter-value" id="poachFail">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('poachFail', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Communication -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Communication & Coordination</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Both Went for Ball</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('bothWent', -1)">‚àí</button>
                                            <span class="team-counter-value" id="bothWent">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('bothWent', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Neither Went for Ball</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('neitherWent', -1)">‚àí</button>
                                            <span class="team-counter-value" id="neitherWent">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('neitherWent', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Visible Hesitation / Collision</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('hesitation', -1)">‚àí</button>
                                            <span class="team-counter-value" id="hesitation">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('hesitation', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Transition Sync -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Transition Sync</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Both Moved Up Together</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('syncGood', -1)">‚àí</button>
                                            <span class="team-counter-value" id="syncGood">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('syncGood', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Partner Left Behind</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('leftBehind', -1)">‚àí</button>
                                            <span class="team-counter-value" id="leftBehind">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('leftBehind', 1)">+</button>
                                        </div>
                                        <div class="responsibility-selector">
                                            <button class="responsibility-btn" onclick="selectResponsibility(this, 'behindResp', 'left')">Left</button>
                                            <button class="responsibility-btn" onclick="selectResponsibility(this, 'behindResp', 'right')">Right</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Point Finishing -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Point Finishing (Winners)</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Left Partner Winners</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('leftWinners', -1)">‚àí</button>
                                            <span class="team-counter-value" id="leftWinners">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('leftWinners', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Right Partner Winners</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('rightWinners', -1)">‚àí</button>
                                            <span class="team-counter-value" id="rightWinners">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('rightWinners', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Resets -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Reset Responsibility</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div class="team-counter-grid">
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Left Partner Resets</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('leftResets', -1)">‚àí</button>
                                            <span class="team-counter-value" id="leftResets">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('leftResets', 1)">+</button>
                                        </div>
                                    </div>
                                    <div class="team-counter-item">
                                        <div class="team-counter-label">Right Partner Resets</div>
                                        <div class="team-counter-controls">
                                            <button class="team-counter-btn minus" onclick="adjustCounter('rightResets', -1)">‚àí</button>
                                            <span class="team-counter-value" id="rightResets">0</span>
                                            <button class="team-counter-btn plus" onclick="adjustCounter('rightResets', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Stacking -->
                        <div class="tracker-section">
                            <div class="tracker-section-header">
                                <span>Stacking (Optional)</span>
                                <span>‚ñº</span>
                            </div>
                            <div class="tracker-section-content">
                                <div style="text-align: center;">
                                    <p style="color: var(--text-light); margin-bottom: 15px;">Are you using stacking?</p>
                                    <div class="toggle-group">
                                        <button class="toggle-btn" onclick="toggleStacking(this, 'yes')">Yes</button>
                                        <button class="toggle-btn active" onclick="toggleStacking(this, 'no')">No</button>
                                    </div>
                                    <div id="stackingEffective" style="margin-top: 15px; display: none;">
                                        <p style="color: var(--text-light); margin-bottom: 10px;">Is stacking working well?</p>
                                        <div class="toggle-group">
                                            <button class="toggle-btn" onclick="toggleStackingWorks(this, 'yes')">Yes</button>
                                            <button class="toggle-btn" onclick="toggleStackingWorks(this, 'no')">No</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="tracker-actions">
                            <button class="btn btn-secondary" onclick="resetTracker()">Reset All</button>
                            <button class="btn btn-primary" style="background: #0891b2;" onclick="generateTeamSummary()">Generate Summary</button>
                        </div>

                        <!-- Team Summary Output -->
                        <div class="team-summary" id="teamSummary">
                            <h4>Team Analysis Summary</h4>
                            <div class="summary-grid" id="summaryGrid">
                                <!-- Filled by JS -->
                            </div>
                            <div class="recommendation-box">
                                <h5>Key Recommendations</h5>
                                <p id="recommendationText">Generate a summary to see recommendations.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- FAQ -->
                <div class="faq-section" style="margin-top: 60px;">
                    <h2>Doubles Analysis FAQ</h2>
                    <div class="faq-grid">
                        <div class="faq-item">
                            <h4>What video should we submit?</h4>
                            <p>20-30 minutes of doubles match play with you and your partner on the same team. Multiple games against different opponents is ideal.</p>
                        </div>
                        <div class="faq-item">
                            <h4>Can we also get individual stats?</h4>
                            <p>This analysis focuses on team dynamics. For individual breakdowns, you can each purchase a standard video analysis separately.</p>
                        </div>
                        <div class="faq-item">
                            <h4>We're preparing for a tournament ‚Äî is this helpful?</h4>
                            <p>Absolutely! Consider combining this with a Tournament Prep package for complete preparation.</p>
                        </div>
                        <div class="faq-item">
                            <h4>What if we play with multiple partners?</h4>
                            <p>Each partnership is unique! You can submit separate analyses for different partnerships.</p>
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="service-cta" style="margin-top: 60px; background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);">
                    <h2>Ready to Level Up Your Partnership?</h2>
                    <p>Submit your doubles video and discover how to play better together.</p>
                    <a href="video-analysis.html?service=doubles" class="btn btn-primary btn-large">Submit Your Doubles Video</a>
                </div>

            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Ray Paull Pickleball Analysis. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Team Tracker JavaScript
        const counters = {
            kitchenServe: 0,
            keptBack: 0,
            lostMiddle: 0,
            lostLeft: 0,
            lostRight: 0,
            poachSuccess: 0,
            poachFail: 0,
            bothWent: 0,
            neitherWent: 0,
            hesitation: 0,
            syncGood: 0,
            leftBehind: 0,
            leftWinners: 0,
            rightWinners: 0,
            leftResets: 0,
            rightResets: 0
        };

        const responsibilities = {
            middleResp: null,
            behindResp: null
        };

        let usingStacking = false;
        let stackingWorks = null;

        function adjustCounter(id, delta) {
            counters[id] = Math.max(0, counters[id] + delta);
            document.getElementById(id).textContent = counters[id];
        }

        function selectResponsibility(btn, type, value) {
            // Remove active from siblings
            btn.parentElement.querySelectorAll('.responsibility-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            responsibilities[type] = value;
        }

        function toggleStacking(btn, value) {
            btn.parentElement.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            usingStacking = value === 'yes';
            document.getElementById('stackingEffective').style.display = usingStacking ? 'block' : 'none';
        }

        function toggleStackingWorks(btn, value) {
            btn.parentElement.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            stackingWorks = value === 'yes';
        }

        function resetTracker() {
            for (let key in counters) {
                counters[key] = 0;
                document.getElementById(key).textContent = '0';
            }
            for (let key in responsibilities) {
                responsibilities[key] = null;
            }
            document.querySelectorAll('.responsibility-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.toggle-btn')[1].classList.add('active'); // Reset to "No" for stacking
            usingStacking = false;
            stackingWorks = null;
            document.getElementById('stackingEffective').style.display = 'none';
            document.getElementById('teamSummary').classList.remove('visible');
        }

        function generateTeamSummary() {
            const leftName = document.getElementById('leftPartnerName').value || 'Left Partner';
            const rightName = document.getElementById('rightPartnerName').value || 'Right Partner';

            const summaryGrid = document.getElementById('summaryGrid');
            const recommendations = [];

            // Calculate stats
            const totalCommBreakdowns = counters.bothWent + counters.neitherWent + counters.hesitation;
            const middleBallIssues = counters.lostMiddle;
            const sidelineLosses = counters.lostLeft + counters.lostRight;
            const poachRate = counters.poachSuccess + counters.poachFail > 0
                ? Math.round((counters.poachSuccess / (counters.poachSuccess + counters.poachFail)) * 100)
                : 0;
            const transitionSync = counters.syncGood + counters.leftBehind > 0
                ? Math.round((counters.syncGood / (counters.syncGood + counters.leftBehind)) * 100)
                : 0;

            // Build summary HTML
            let html = '';

            // Middle Ball Clarity
            let middleClass = middleBallIssues <= 2 ? 'good' : middleBallIssues <= 4 ? 'warning' : 'bad';
            let middleText = middleBallIssues <= 2 ? 'Good' : middleBallIssues <= 4 ? 'Needs Work' : 'Critical';
            html += `<div class="summary-item"><span class="label">Middle Ball Clarity</span><span class="value ${middleClass}">${middleText} (${middleBallIssues} losses)</span></div>`;
            if (middleBallIssues > 2) {
                recommendations.push(`Work on middle ball communication. ${responsibilities.middleResp === 'both' ? 'Both partners hesitated multiple times - establish clear "mine" calls.' : ''}`);
            }

            // Court Coverage
            let coverageClass = sidelineLosses <= 3 ? 'good' : sidelineLosses <= 6 ? 'warning' : 'bad';
            let coverageText = sidelineLosses <= 3 ? 'Good' : sidelineLosses <= 6 ? 'Moderate' : 'Needs Work';
            html += `<div class="summary-item"><span class="label">Court Coverage</span><span class="value ${coverageClass}">${coverageText} (${sidelineLosses} sideline losses)</span></div>`;
            if (sidelineLosses > 3) {
                let sideNote = counters.lostLeft > counters.lostRight ? `left side vulnerable (${counters.lostLeft})` : `right side vulnerable (${counters.lostRight})`;
                recommendations.push(`Improve court coverage - ${sideNote}.`);
            }

            // Communication
            let commClass = totalCommBreakdowns <= 2 ? 'good' : totalCommBreakdowns <= 5 ? 'warning' : 'bad';
            let commText = totalCommBreakdowns <= 2 ? 'Good' : totalCommBreakdowns <= 5 ? 'Needs Work' : 'Critical';
            html += `<div class="summary-item"><span class="label">Communication</span><span class="value ${commClass}">${commText} (${totalCommBreakdowns} breakdowns)</span></div>`;
            if (totalCommBreakdowns > 2) {
                recommendations.push('Improve verbal communication during points. Call "mine" or "yours" clearly.');
            }

            // Transition Sync
            let syncClass = transitionSync >= 75 ? 'good' : transitionSync >= 50 ? 'warning' : 'bad';
            let syncText = transitionSync >= 75 ? 'Good' : transitionSync >= 50 ? 'Moderate' : 'Needs Work';
            html += `<div class="summary-item"><span class="label">Transition Sync</span><span class="value ${syncClass}">${syncText} (${transitionSync}%)</span></div>`;
            if (transitionSync < 75 && counters.leftBehind > 0) {
                let behindPartner = responsibilities.behindResp === 'left' ? leftName : rightName;
                recommendations.push(`${behindPartner} often left behind during transitions. Slow down the advance to stay together.`);
            }

            // Poaching
            if (counters.poachSuccess + counters.poachFail > 0) {
                let poachClass = poachRate >= 70 ? 'good' : poachRate >= 50 ? 'warning' : 'bad';
                html += `<div class="summary-item"><span class="label">Poaching Success</span><span class="value ${poachClass}">${poachRate}%</span></div>`;
                if (poachRate < 50) {
                    recommendations.push('Poaching attempts are risky - only poach on clearly attackable balls.');
                }
            }

            // Point Finishing
            html += `<div class="summary-item"><span class="label">Point Finishing</span><span class="value">${leftName}: ${counters.leftWinners} | ${rightName}: ${counters.rightWinners}</span></div>`;

            summaryGrid.innerHTML = html;

            // Build recommendations
            if (recommendations.length === 0) {
                recommendations.push('Great teamwork! Keep communicating and moving together.');
            }
            document.getElementById('recommendationText').innerHTML = recommendations.map(r => `‚Ä¢ ${r}`).join('<br>');

            // Show summary
            document.getElementById('teamSummary').classList.add('visible');
            document.getElementById('teamSummary').scrollIntoView({ behavior: 'smooth' });
        }

        // Collapsible sections
        document.querySelectorAll('.tracker-section-header').forEach(header => {
            header.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const arrow = this.querySelector('span:last-child');
                if (content.style.display === 'none') {
                    content.style.display = 'block';
                    arrow.textContent = '‚ñº';
                } else {
                    content.style.display = 'block'; // Keep open by default
                }
            });
        });
    </script>
</body>
</html>
